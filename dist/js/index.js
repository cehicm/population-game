"use strict";function asyncGeneratorStep(e,t,n,r,o,a,c){try{var u=e[a](c),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){asyncGeneratorStep(a,r,o,c,u,"next",e)}function u(e){asyncGeneratorStep(a,r,o,c,u,"throw",e)}c(void 0)}))}}var playerForm=document.getElementById("player-form"),resultBtn=document.getElementById("result-btn"),counterShow=document.getElementById("counter");function getData(){return _getData.apply(this,arguments)}function _getData(){return(_getData=_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/all").then((function(e){return e.json()})).then(getNextCountry).catch((function(e){e.response?console.error("Failed with response",e.response.data):e.request?console.error("Failed request",e):console.error("Failed in general",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}playerOneScore=0,playerTwoScore=0,getNextCountry=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e[Math.floor(Math.random()*e.length)],n=t.population;document.querySelector(".country-pic").src=t.flag,document.querySelector(".country-name").innerHTML=t.name,document.querySelector(".country-name-native").innerHTML=t.nativeName,resultBtn.addEventListener("click",(function(){var t=document.getElementById("player-one-input").value,r=document.getElementById("player-two-input").value,o=document.querySelector(".results-correct"),a=t*document.getElementById("player-one-unit-value").value,c=r*document.getElementById("player-two-unit-value").value;if(""===t.trim()||""===r.trim())o.innerHTML="One or two empty values";else if(a===c)o.innerHTML="It's a tie!";else{o.innerHTML="The correct number is ".concat(n.toLocaleString());var u=document.querySelector(".results-player-win");Math.abs(parseInt(n)-a)<Math.abs(parseInt(n)-c)&&(u.innerText="Player 1 wins!",playerOneScore++),Math.abs(parseInt(n)-a)>Math.abs(parseInt(n)-c)&&(u.innerText="Player 2 wins!",playerTwoScore++),document.getElementById("current-score").innerHTML="Current score:\n      <p> P1: ".concat(playerOneScore," </p> <p> P2: ").concat(playerTwoScore," </p>");!function e(t){t>0&&(t--,setTimeout((function(){e(t)}),1e3),counterShow.innerHTML=t),0===t&&(counterShow.innerHTML="")}(4),setTimeout((function(){playerForm.reset(),getNextCountry(e),u.innerText="",o.innerText="",document.querySelector(".container").classList.add("hide-me")}),3e3)}}),{once:!0})})),resultBtn.addEventListener("click",getData(),!0);